<Project Sdk="Microsoft.NET.Sdk">

  <PropertyGroup>
  </PropertyGroup>

  <ItemGroup>
    <ProjectReference Include="..\..\..\Db\Db.csproj" />
    <ProjectReference Include="..\..\..\Streaming.Server\Streaming.Server.csproj" />
    <ProjectReference Include="..\..\..\Web\Web.csproj" />
    <ProjectReference Include="..\..\Transcription\Contract\Contract.csproj" />
    <ProjectReference Include="..\..\Chat\Contract\Contract.csproj" />
    <ProjectReference Include="..\Contract\Contract.csproj" />
  </ItemGroup>

  <ItemGroup>
    <!-- ToDo: fix t4 generation without vs/rider or move to sourcegenerators, move generation results to a separate folder (?)  -->
    <None Update="Ebml\*.tt" Generator="TextTemplatingFileGenerator" LastGenOutput="Ebml\%(Filename).cs" />
    <None Update="WebM\Models\*.tt" Generator="TextTemplatingFileGenerator" LastGenOutput="WebM\Models\%(Filename).cs" />
    <None Update="WebM\*.tt" Generator="TextTemplatingFileGenerator" LastGenOutput="WebM\%(Filename).cs" />
  </ItemGroup>

  <ItemGroup>
    <Compile Update="Ebml\MatroskaSpecification.cs">
      <AutoGen>True</AutoGen>
      <DesignTime>True</DesignTime>
      <DependentUpon>MatroskaSpecification.tt</DependentUpon>
    </Compile>
    <Compile Update="Ebml\Models\MatroskaModels.cs">
      <AutoGen>True</AutoGen>
      <DesignTime>True</DesignTime>
      <DependentUpon>MatroskaModels.tt</DependentUpon>
    </Compile>
    <Compile Update="WebM\Models\MatroskaModels.cs">
      <DependentUpon>MatroskaModels.tt</DependentUpon>
    </Compile>
    <Compile Update="WebM\MatroskaSpecification.cs">
      <DependentUpon>MatroskaSpecification.tt</DependentUpon>
    </Compile>
  </ItemGroup>

</Project>
