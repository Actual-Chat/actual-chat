@inherits ComputedStateComponent<string>
@inject IFusionTime _fusionTime

<span class="@Class">@State.Value</span>

@code {
    [Parameter]
    public string Class { get; set; } = CssClasses.Default[typeof(MomentsAgoBadge)];
    [Parameter]
    public DateTime? Value { get; set; }
    [Parameter]
    public string None { get; set; } = "n/a";

    protected override Task<string> ComputeState(CancellationToken cancellationToken)
        => Value.HasValue ? _fusionTime.GetMomentsAgo(Value.Value) : Task.FromResult(None);
}
