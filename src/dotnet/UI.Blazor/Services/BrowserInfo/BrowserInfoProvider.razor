@namespace ActualChat.UI.Blazor.Components
@using ActualChat.UI.Blazor.Services
@inherits ComputedStateComponent<Unit>

<CascadingValue Value="@BrowserInfo.ScreenSize.Value">
    @ChildContent
</CascadingValue>

@code {
    [Inject] BrowserInfo BrowserInfo { get; set; } = null!;

    [Parameter] public RenderFragment ChildContent { get; set; } = null!;

    protected override ComputedState<Unit>.Options GetStateOptions()
        => new() { UpdateDelayer = FixedDelayer.Instant };

    protected override async Task<Unit> ComputeState(CancellationToken cancellationToken) {
        var _ = await BrowserInfo.ScreenSize.Use(cancellationToken).ConfigureAwait(false);
        return default!;
    }
}
