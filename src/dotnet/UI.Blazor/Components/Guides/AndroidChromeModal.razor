@using Stl.Extensibility
@namespace ActualChat.UI.Blazor.Components
@implements IModalView<AndroidChromeModal.Model>
@attribute [MatchFor(typeof(Model), typeof(IModalView))]

<DialogFrame Class="guide-modal" HasHeader="false">
    <Body>
    <GuideHeader OnCloseClick="OnCancel" OnOkClick="OnCancel"/>

    <img src="/dist/images/guide/mic-access.svg" alt="mic access">
    <div class="c-text text-title-1">
        Allow access to mic in 5 steps
    </div>
    <div class="c-text font-normal">
        To use it for recording voice messages. Here are the guide how to enable microphone permission
        in the Google mobile browser.
    </div>

    <div class="c-text text-headline-1">
        1. Tap on More button
    </div>
    <img src="/dist/images/guide/android-chrome-01.svg" alt="Android/Chrome/01">

    <div class="c-text text-headline-1">
        2. Go to Browser Settings
    </div>
    <img src="/dist/images/guide/android-chrome-02.svg" alt="Android/Chrome/02">

    <div class="c-text text-headline-1">
        3. Open Site settings
    </div>
    <img src="/dist/images/guide/android-chrome-03.svg" alt="Android/Chrome/03">

    <div class="c-text text-headline-1">
        4. Tap on mic settings
    </div>
    <img src="/dist/images/guide/android-chrome-04.svg" alt="Android/Chrome/04">

    <div class="c-text text-headline-1">
        5. Allow access to your mic for Actual.chat
    </div>
    <img src="/dist/images/guide/android-chrome-05.svg" alt="Android/Chrome/05">

    </Body>
</DialogFrame>

@code {
    [Inject] private Session Session { get; init; } = null!;
    [Inject] private UICommander UICommander { get; init; } = null!;

    [CascadingParameter] public Modal Modal { get; set; } = null!;
    [Parameter] public Model ModalModel { get; set; } = null!;

    private void OnCancel()
        => Modal.Close();

    public sealed record Model;
}
