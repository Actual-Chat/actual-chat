@using Stl.Extensibility
@namespace ActualChat.UI.Blazor.Components
@implements IModalView<WebSafariModal.Model>
@attribute [MatchFor(typeof(Model), typeof(IModalView))]

<DialogFrame Class="guide-modal" Title="Guide" HasCloseButton="true">
    <Body>

    <img src="/dist/images/guide/mic-access.svg" alt="mic access">
    <div class="c-text text-title-1">
        Allow access to mic in 4 steps
    </div>
    <div class="c-text font-normal">
        To use it for recording voice messages. Here are the guide how to enable microphone permission in the Google
        mobile browser.
    </div>

    <div class="c-text text-headline-1">
        1. Go to Safari Preferences
    </div>
    <img src="/dist/images/guide/web-safari-01.svg" alt="WEB/Safari/01">

    <div class="c-text text-headline-1">
        2. Choose Websites category
    </div>
    <img src="/dist/images/guide/web-safari-02.svg" alt="WEB/Safari/02">

    <div class="c-text text-headline-1">
        3. Select Microphone on the left
    </div>
    <img src="/dist/images/guide/web-safari-03.svg" alt="WEB/Safari/03">

    <div class="c-text text-headline-1">
        4. Allow access to your mic for Actual.chat
    </div>
    <img src="/dist/images/guide/web-safari-04.svg" alt="WEB/Safari/04">

    <div class="flex-x justify-end">
        <Button Class="btn-modal mobile" Click="OnCancel">
            OK
        </Button>
    </div>

    </Body>
</DialogFrame>

@code {
    [Inject] private Session Session { get; init; } = null!;
    [Inject] private UICommander UICommander { get; init; } = null!;

    [CascadingParameter] public Modal Modal { get; set; } = null!;
    [Parameter] public Model ModalModel { get; set; } = null!;

    private void OnCancel()
        => Modal.Close();

    public sealed record Model;
}
