@using ActualChat.UI.Blazor.Services
@using ActualChat.Hosting
@namespace ActualChat.UI.Blazor.Components
@{
    if (!HostInfo.IsDevelopmentInstance)
        return;
    var appBuildTime = (int)LoadingUI.AppBuildTime.TotalMilliseconds;
    var appCreationTime = (int)LoadingUI.AppCreationTime.TotalMilliseconds;
    var loadingTime = (int)LoadingUI.LoadTime.TotalMilliseconds;
    var chatListLoadedTime = (int)LoadingUI.ChatListLoadTime.TotalMilliseconds;
}

@if (loadingTime > 0) {
    <div class="blazor-mode-toggle px-1">
        @if (appBuildTime > 0) {
            @(appBuildTime + "/")
        }
        @($"{appCreationTime}/{loadingTime}/{chatListLoadedTime}ms")
    </div>
}

@code {
    [Inject] HostInfo HostInfo { get; init; } = null!;
    [Inject] LoadingUI LoadingUI { get; init; } = null!;
}
