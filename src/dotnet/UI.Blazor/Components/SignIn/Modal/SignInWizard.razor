@namespace ActualChat.UI.Blazor.Components
@{
    var reason = Reason.NullIfEmpty() ?? "to ActualChat";
}

<Stepper Context="stepper">
    <Header>
        @if (!stepper.CanMoveBack) {
            <div class="sign-in-modal-header-wrapper">
                <div class="sign-in-modal-header">Sign-in @reason</div>
            </div>
        } else {
            <HeaderButton
                Class="blackout"
                Click="@(_ => stepper.MoveBack())">
                <i class="icon-arrow-left text-2xl"></i>
            </HeaderButton>
            <div class="sign-in-modal-header">Phone number verification</div>
        }
    </Header>
    <Steps>
        <ProviderSelectStep PhoneSignInModel="_model"/>
        <CompletePhoneSignInStep PhoneSignInModel="_model"/>
    </Steps>
</Stepper>

@code {
    private PhoneSignInModel _model = new();

    [Parameter] public string Reason { get; set; } = "";
}
