@namespace ActualChat.UI.Blazor.Components
@implements IDisposable

@Model.Header

@code {
    private readonly Action<PageLayoutModel> _onPageLayoutModelChanged;

    [Inject] private PageLayoutModel Model { get; set; } = null!;

    public PageLayoutHeader()
        => _onPageLayoutModelChanged = OnPageLayoutModelChanged;

    protected override void OnInitialized()
        => Model.Changed += _onPageLayoutModelChanged;

    public void Dispose()
        => Model.Changed -= _onPageLayoutModelChanged;

    private void OnPageLayoutModelChanged(PageLayoutModel model)
        => StateHasChanged();
}
