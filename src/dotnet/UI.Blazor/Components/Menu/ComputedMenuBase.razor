@namespace ActualChat.UI.Blazor.Components
@typeparam TState
@inherits ComputedStateComponent<TState>
@implements IMenu

@code {
    [Parameter] public string Id { get; set; } = "";
    [Parameter] public string[] Arguments { get; set; } = Array.Empty<string>();

    [CascadingParameter] public MenuHost Host { get; set; } = null!;

    protected override async Task OnAfterRenderAsync(bool firstRender) {
        if (State.Snapshot.UpdateCount > 0)
            await Host.Position(this);
    }

    protected override Task<TState> ComputeState(CancellationToken cancellationToken)
        => throw new NotImplementedException("This method must be overriden in descendant!");
}
