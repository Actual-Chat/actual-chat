@namespace ActualChat.UI.Blazor.Components
@using ActualChat.UI.Blazor.Services
@inherits ComputedStateComponent<bool>

@{
    var isOpened = State.ValueOrDefault;
    var cls = isOpened ? "left-opened" : "left-closed";
}

<div class="thin-left-panel @cls">
    <div class="-flex-x bg-04 m-3 h-14">
        <svg class="w-10 h-10 fill-current mr-2" viewBox="0 0 52 52" fill="none" xmlns="http://www.w3.org/2000/svg">
            <circle cx="26" cy="26" r="26" fill="#E4E4E4"/>
            <path d="M26.4751 40.918C23.9382 40.918 22.247 35.7531 21.6003 32.7444C21.4511 31.892 21.3019 30.9894 21.2024 30.1369C21.1029 29.2844 21.0532 28.432 21.0034 27.5294C21.0034 26.9778 20.9537 26.5265 20.9537 26.025C20.9537 25.674 20.9537 25.323 20.9537 24.8717C21.0034 23.8187 21.0532 22.8158 21.1526 21.863C21.2521 20.8601 21.4511 19.9074 21.6501 18.9546C22.2967 16.0463 23.988 11.1321 26.4254 11.1321C28.8628 11.1321 30.6038 16.0463 31.2007 18.9546V19.0549C31.2504 19.3057 31.3002 19.5564 31.3499 19.8071C31.4991 20.6094 31.5986 21.4117 31.6981 22.3143L31.7478 22.9662C31.7976 23.7685 31.8473 24.4204 31.8473 25.0723C31.8473 25.323 31.8473 25.6239 31.8473 25.8746V26.025C31.8473 26.3761 31.8473 26.8274 31.7976 27.2787C31.7976 27.5294 31.7976 27.73 31.7478 27.9807V28.1311C31.7478 28.5323 31.6981 28.9334 31.6484 29.3346L31.5986 29.6856C31.4991 30.5381 31.3996 31.3905 31.2504 32.0925C31.2007 32.4436 31.1509 32.7444 31.0514 33.0453C30.6535 35.9537 28.9623 40.918 26.4751 40.918ZM26.4751 12.486C25.53 12.486 23.8885 15.3442 23.0429 19.2054C22.8439 20.0578 22.6947 21.0106 22.5952 21.9633C22.4957 22.9161 22.3962 23.8688 22.3962 24.8717C22.3962 25.2729 22.3962 25.6239 22.3962 25.9749C22.3962 26.4262 22.3962 26.8775 22.446 27.3789C22.4957 28.2314 22.5454 29.0839 22.6449 29.8862C22.7444 30.7386 22.8936 31.5911 23.0429 32.3934C23.8885 36.5554 25.53 39.4137 26.5249 39.4137C27.47 39.4137 29.1115 36.5554 29.9571 32.6943C30.0068 32.3934 30.0566 32.1427 30.1561 31.7917C30.3053 31.0897 30.4048 30.2873 30.4545 29.485L30.5043 29.1842C30.554 28.8331 30.554 28.432 30.6038 28.0308V27.9305C30.6038 27.6798 30.6535 27.4792 30.6535 27.2285C30.6535 26.7772 30.6535 26.3259 30.7032 26.025V25.8746C30.7032 25.6239 30.7032 25.323 30.7032 25.0723C30.7032 24.4706 30.6535 23.8187 30.6038 23.0164L30.4048 22.4146C30.3053 21.5622 30.2058 20.7599 30.0566 20.0077C30.0068 19.757 29.9571 19.5564 29.9074 19.3057V19.2054C29.0617 15.3944 27.4202 12.486 26.4751 12.486Z" fill="#2970FF"/>
            <path d="M26.4751 52C20.8045 52 15.6312 46.0328 13.2933 36.756C12.9451 35.4021 12.6467 33.9479 12.4477 32.5439C12.2487 31.19 12.0995 29.7859 12.0497 28.3819C12 27.4793 12 26.7271 12 25.9749C12 25.4233 12 24.8717 12.0497 24.1697C12.0995 22.5651 12.2487 20.9103 12.4974 19.3558C12.7461 17.7512 13.0446 16.1466 13.4425 14.6924C14.5866 10.3799 16.4271 6.66924 18.6655 4.11186C21.0034 1.40405 23.6895 0 26.4751 0C29.2607 0 31.9468 1.40405 34.2847 4.11186C36.5232 6.71938 38.3636 10.3799 39.5077 14.7425C39.5077 14.7927 39.5077 14.7927 39.5077 14.8428C39.5077 14.893 39.5077 14.893 39.5077 14.9431C39.6072 15.2941 39.7067 15.6953 39.8062 16.0964C40.1046 17.35 40.3533 18.704 40.5026 20.108V20.1581V20.2083C40.5523 20.4089 40.5523 20.6095 40.5523 20.81C40.5523 20.9103 40.5523 21.0608 40.6021 21.161C40.7513 22.4147 40.801 23.4677 40.8508 24.5207C40.8508 24.9219 40.8508 25.323 40.8508 25.8245C40.8508 25.8746 40.8508 25.8746 40.8508 25.9248C40.8508 25.9749 40.8508 25.9749 40.8508 26.0251C40.8508 26.677 40.8508 27.3288 40.801 28.081C40.801 28.4822 40.7513 28.8833 40.7015 29.2845V29.3848C40.6518 30.0366 40.6021 30.6885 40.5026 31.2903C40.5026 31.3404 40.5026 31.4407 40.5026 31.4908C40.5026 31.5911 40.5026 31.6413 40.4528 31.7416C40.4528 31.7917 40.4528 31.7917 40.4528 31.8419C40.4528 31.892 40.4528 31.892 40.4528 31.9421C40.2539 33.296 40.0549 34.5998 39.7564 35.8033C39.6569 36.3047 39.5077 36.756 39.4082 37.3076C38.2642 41.6201 36.4237 45.3308 34.1852 47.9383C31.9966 50.5458 29.2607 52 26.4751 52ZM26.4751 0.150434C23.7393 0.150434 21.0532 1.55448 18.765 4.21215C16.5266 6.81967 14.7358 10.4301 13.542 14.7425C13.1441 16.2469 12.7959 17.8014 12.5969 19.406C12.3482 20.9605 12.2487 22.5651 12.1492 24.2199C12.0995 24.9219 12.0995 25.4735 12.0995 25.9749C12.0995 26.7271 12.0995 27.4793 12.1492 28.3317C12.199 29.7358 12.3482 31.1398 12.5472 32.4937C12.7461 33.8978 13.0446 35.3018 13.3928 36.7059C15.7307 45.8824 20.8542 51.8496 26.4751 51.8496C29.211 51.8496 31.8971 50.4455 34.1852 47.7879C36.4237 45.1803 38.2144 41.5699 39.4082 37.2575C39.5575 36.756 39.6569 36.2546 39.7564 35.8033C40.0549 34.5998 40.2539 33.296 40.4528 31.9421C40.4528 31.892 40.4528 31.892 40.4528 31.8419C40.4528 31.7917 40.4528 31.7917 40.4528 31.7416C40.4528 31.6413 40.4528 31.5911 40.5026 31.4908C40.5026 31.4407 40.5026 31.3404 40.5026 31.2903C40.5523 30.6885 40.6518 30.0366 40.7015 29.3848V29.2845C40.7513 28.8833 40.7513 28.4822 40.801 28.081C40.8508 27.3288 40.8508 26.6268 40.8508 26.0251C40.8508 25.9749 40.8508 25.9749 40.8508 25.9248C40.8508 25.8746 40.8508 25.8746 40.8508 25.8245C40.8508 25.323 40.8508 24.9219 40.8508 24.5207C40.801 23.5178 40.7513 22.4147 40.6021 21.2112C40.6021 21.1109 40.6021 20.9605 40.5523 20.8602C40.5523 20.6596 40.5026 20.459 40.5026 20.2584V20.2083V20.1581C40.3036 18.7541 40.1046 17.4002 39.8062 16.1466C39.7067 15.7454 39.6072 15.3443 39.5077 14.9932C39.5077 14.9431 39.5077 14.9431 39.5077 14.893C39.5077 14.8428 39.5077 14.8428 39.5077 14.7927C38.3636 10.4802 36.5232 6.81967 34.2847 4.2623C31.8971 1.55448 29.2607 0.150434 26.4751 0.150434Z" fill="#2970FF"/>
            <path d="M26.4751 50.0945C21.6998 50.0945 17.223 44.6789 15.0841 36.2546C14.7359 34.9508 14.4871 33.5969 14.2882 32.243C14.0892 30.9393 13.9897 29.6355 13.8902 28.2315C13.8405 27.4291 13.8405 26.677 13.8405 25.9749C13.8405 25.4735 13.8405 24.9219 13.8902 24.27C13.94 22.6654 14.0892 21.1611 14.2882 19.6567C14.5369 18.1022 14.8353 16.5979 15.1835 15.1938C17.422 7.12056 21.8491 1.90552 26.4751 1.90552C31.1509 1.90552 35.5283 7.12056 37.717 15.1938L37.7667 15.3443C37.8662 15.6953 37.9657 16.0965 38.0652 16.4475C38.3636 17.6509 38.5626 18.9547 38.7616 20.2585V20.3587C38.7616 20.5092 38.8113 20.7098 38.8113 20.8602L38.8611 21.2614C39.0103 22.4648 39.06 23.4677 39.1098 24.4706C39.1098 24.8718 39.1098 25.3231 39.1098 25.7242V25.9248C39.1098 26.5265 39.1098 27.1784 39.06 27.9306C39.06 28.3317 39.0103 28.6828 39.0103 29.0839V29.1842C38.9606 29.8361 38.9108 30.4378 38.8611 30.9894C38.8611 30.9894 38.8113 31.3404 38.8113 31.3906L38.7616 31.541C38.6124 32.7946 38.3636 34.0482 38.1149 35.2016V35.2517C38.0154 35.703 37.8662 36.2045 37.7667 36.6558C35.578 44.8293 31.1509 50.0945 26.4751 50.0945ZM26.4751 2.25653C21.9983 2.25653 17.7204 7.37128 15.5815 15.2941C15.1835 16.6982 14.8851 18.2025 14.6861 19.7069C14.4871 21.1611 14.3379 22.7155 14.2882 24.27C14.2882 24.9219 14.2384 25.4735 14.2384 25.9749C14.2384 26.677 14.2384 27.4291 14.2882 28.1813C14.3877 29.5854 14.4871 30.9393 14.6861 32.1929C14.8851 33.5468 15.1338 34.8505 15.482 36.1543C17.5712 44.378 21.8988 49.6934 26.5249 49.6934C31.0017 49.6934 35.2796 44.5786 37.4185 36.6558C37.518 36.2045 37.6672 35.7532 37.7667 35.2517V35.2016C38.0154 34.0482 38.2144 32.8448 38.4134 31.5912L38.4631 31.4407C38.4631 31.3906 38.5129 31.0396 38.5129 31.0396C38.5626 30.4378 38.6621 29.8361 38.6621 29.2344V29.1341C38.7118 28.7329 38.7118 28.3819 38.7118 27.9807C38.7616 27.2286 38.7616 26.6268 38.7616 26.0251V25.8245C38.7616 25.4234 38.7616 24.9721 38.7616 24.5709C38.7118 23.6182 38.6621 22.6153 38.5129 21.4118L38.4631 21.0106C38.4631 20.8101 38.4134 20.6596 38.4134 20.5092V20.4089C38.2642 19.055 38.0154 17.8014 37.717 16.5979C37.6175 16.2469 37.518 15.8457 37.4185 15.4947L37.3688 15.3443C35.2796 7.37128 31.0017 2.25653 26.4751 2.25653Z" fill="#2970FF"/>
            <path d="M26.4751 48.1389C22.645 48.1389 18.8148 43.1746 16.9743 35.7532C16.6758 34.4996 16.4271 33.2459 16.2281 31.9422C16.0292 30.7387 15.9297 29.4349 15.8799 28.1312C15.8302 27.379 15.8302 26.677 15.8302 25.975C15.8302 25.4735 15.8302 24.9721 15.8799 24.3202C15.9297 22.8159 16.0789 21.3115 16.2779 19.9075C16.4769 18.4533 16.7753 16.9991 17.1235 15.6953C19.0137 8.62492 22.7942 3.81104 26.4751 3.81104C30.1561 3.81104 33.9365 8.57478 35.8765 15.6953L35.9263 15.8458C36.0257 16.1968 36.1252 16.5478 36.175 16.8988C36.4237 18.0521 36.6724 19.2556 36.8216 20.5593V20.7098C36.8216 20.8101 36.8216 20.9104 36.8714 21.0608L36.9211 21.5121C37.0206 22.6654 37.1201 23.6683 37.1201 24.5709C37.1201 24.9721 37.1201 25.3732 37.1201 25.7744V25.975C37.1201 26.5266 37.1201 27.1784 37.0703 27.8303C37.0703 28.1813 37.0206 28.5323 37.0206 28.8834V29.0338C36.9709 29.6355 36.9211 30.2373 36.8714 30.7889L36.8216 31.3404C36.6724 32.5941 36.4734 33.7474 36.2247 34.8506C36.1252 35.352 36.0257 35.8033 35.8765 36.2045C33.9863 43.3752 30.2058 48.1389 26.4751 48.1389ZM26.4751 4.31248C22.9932 4.31248 19.4117 8.92579 17.5712 15.7956C17.223 17.0994 16.9245 18.5034 16.7256 19.9576C16.5266 21.3617 16.3774 22.8159 16.3276 24.3202C16.3276 24.9219 16.2779 25.4735 16.2779 25.9248C16.2779 26.5767 16.2779 27.2787 16.3276 28.0309C16.3774 29.3347 16.5266 30.5883 16.6758 31.7917C16.8748 33.0454 17.1235 34.3491 17.422 35.5526C19.2624 42.8236 22.8937 47.6375 26.4751 47.6375C29.9571 47.6375 33.5386 43.0242 35.3791 36.1042C35.4786 35.6529 35.6278 35.2517 35.7273 34.7503C35.976 33.6972 36.175 32.4938 36.3242 31.2903L36.3739 30.7889C36.4237 30.2373 36.4734 29.6355 36.5232 29.0839V28.9836C36.5729 28.5825 36.5729 28.2315 36.5729 27.8805C36.6227 27.1784 36.6227 26.5767 36.6227 26.0251V25.8245C36.6227 25.4234 36.6227 25.0222 36.6227 24.6211C36.5729 23.7185 36.5232 22.7156 36.4237 21.6124L36.3739 21.1611C36.3739 21.0107 36.3739 20.9104 36.3242 20.8101V20.6596C36.175 19.406 35.9263 18.2025 35.6775 17.0492C35.5781 16.6982 35.5283 16.3472 35.4288 15.9962L35.3791 15.8458C33.5386 8.97593 29.9571 4.31248 26.4751 4.31248Z" fill="#2970FF"/>
            <path d="M26.4751 46.2334C23.2418 46.2334 20.1578 40.7175 18.765 35.3019C18.4665 34.0984 18.2178 32.895 18.0686 31.6915C17.9194 30.5382 17.7701 29.2845 17.7204 28.0309C17.6707 27.2788 17.6707 26.6269 17.6707 25.975C17.6707 25.5237 17.6707 25.0222 17.7204 24.4205C17.7701 22.9663 17.9194 21.5623 18.1183 20.2084C18.3173 18.8043 18.6158 17.4504 18.964 16.1968C20.3568 10.9817 23.3911 5.71655 26.5249 5.71655C29.6586 5.71655 32.693 10.9817 34.0858 16.1968L34.1355 16.2971C34.235 16.6481 34.3345 16.9991 34.3842 17.3501C34.6329 18.4533 34.8319 19.6066 34.9811 20.8101L35.0309 21.0107L35.0806 21.7628C35.1801 22.866 35.2796 23.8188 35.2796 24.7214C35.2796 25.1225 35.2796 25.4735 35.2796 25.8747V26.1254C35.2796 26.6269 35.2796 27.2286 35.2298 27.8805C35.2298 28.2315 35.1801 28.5324 35.1801 28.8332V29.0338C35.1303 29.6356 35.0806 30.1871 35.0309 30.6886L34.9811 31.0897C34.8319 32.2932 34.6329 33.4465 34.3842 34.4494C34.2847 34.9007 34.1852 35.352 34.0858 35.7532C32.6432 40.9682 29.6089 46.2334 26.4751 46.2334ZM26.4751 6.46872C23.8388 6.46872 20.9039 11.5333 19.5609 16.3974C19.2127 17.651 18.964 18.9547 18.765 20.3086C18.566 21.6124 18.4665 23.0165 18.4168 24.4205C18.4168 25.0222 18.3671 25.5237 18.3671 25.975C18.3671 26.6269 18.3671 27.2788 18.4168 27.9808C18.4665 29.2344 18.6158 30.4379 18.765 31.541C18.9142 32.7445 19.1629 33.948 19.4614 35.1013C20.7547 40.2161 23.7393 45.4813 26.4751 45.4813C29.1115 45.4813 32.0463 40.4167 33.3894 35.5025C33.4888 35.1013 33.5883 34.7002 33.6878 34.2489C33.9365 33.246 34.0858 32.1428 34.2847 30.9393L34.3345 30.488C34.3842 29.9866 34.434 29.435 34.4837 28.8332V28.6828C34.5334 28.3318 34.5334 28.0309 34.5334 27.7301C34.5832 27.0782 34.5832 26.4764 34.5832 26.0251V25.7744C34.5832 25.3733 34.5832 25.0222 34.5832 24.6211C34.5334 23.7686 34.4837 22.866 34.3842 21.7127L34.2847 20.8101C34.1355 19.6066 33.9365 18.4533 33.6878 17.4003C33.5883 17.0492 33.5386 16.7484 33.4391 16.3974H33.3894C32.0463 11.4832 29.1115 6.46872 26.4751 6.46872Z" fill="#2970FF"/>
            <path d="M26.4751 43.4253C23.4408 43.4253 21.0034 37.759 20.1081 33.948C19.8594 32.9451 19.6604 31.8921 19.5112 30.839C19.3619 29.8361 19.2624 28.7831 19.2127 27.7301C19.163 27.1283 19.163 26.5266 19.163 25.975C19.163 25.5738 19.163 25.1727 19.2127 24.6211C19.2624 23.3675 19.3619 22.164 19.5112 21.0107C19.6604 19.8072 19.9091 18.6539 20.1578 17.5507C21.1527 13.9403 23.5901 8.52466 26.4751 8.52466C29.41 8.52466 31.7976 13.9403 32.7427 17.6008V17.7011C32.8422 18.002 32.892 18.3029 32.9417 18.6037C33.1407 19.5063 33.2899 20.5092 33.4391 21.5623V21.7127L33.4889 22.3646C33.5884 23.3173 33.6381 24.1196 33.6381 24.8718C33.6381 25.1727 33.6381 25.5237 33.6381 25.8246V26.0251C33.6381 26.4263 33.6381 26.9779 33.5884 27.5295C33.5884 27.7802 33.5386 28.0811 33.5386 28.3318V28.5324C33.4889 29.0338 33.4391 29.4851 33.3894 29.9364L33.3396 30.3376C33.2402 31.3405 33.0412 32.3434 32.892 33.1958C32.7925 33.597 32.7427 33.948 32.6432 34.299C31.8474 38.0097 29.41 43.4253 26.4751 43.4253ZM26.4751 9.5777C24.7341 9.5777 22.3962 13.2884 21.2522 17.8516C21.0034 18.9046 20.7547 20.0078 20.6055 21.1611C20.4563 22.2643 20.3568 23.4678 20.307 24.6712C20.307 25.1727 20.2573 25.5738 20.2573 25.975C20.2573 26.5266 20.2573 27.0782 20.307 27.6799C20.3568 28.733 20.4563 29.7358 20.5558 30.6886C20.705 31.6915 20.8542 32.6944 21.1029 33.6973C22.247 38.461 24.6347 42.3723 26.4254 42.3723C28.1664 42.3723 30.5043 38.6616 31.6484 34.0984C31.7479 33.7474 31.7976 33.3964 31.8971 33.0454C32.0961 32.1929 32.2453 31.2402 32.3448 30.2373L32.3945 29.8863C32.4443 29.435 32.494 28.9837 32.494 28.4822V28.3318C32.494 28.0309 32.5438 27.7802 32.5438 27.5295C32.5438 26.9779 32.5935 26.4764 32.5935 26.0753V25.8747C32.5935 25.5738 32.5935 25.2228 32.5935 24.922C32.5935 24.1698 32.5438 23.4176 32.4443 22.4649L32.3448 21.7127C32.2453 20.7098 32.0463 19.7069 31.8474 18.8545C31.7976 18.5536 31.6981 18.3029 31.6484 18.002V17.9017C30.554 13.3385 28.2161 9.5777 26.4751 9.5777Z" fill="#2970FF"/>
            <path d="M36.5232 24.7213C36.5232 19.9074 34.1355 17.5005 29.9571 16.7483C30.2058 17.5005 30.4048 18.3028 30.6038 19.1051V19.1552C30.6535 19.406 30.7033 19.6567 30.753 19.9074C30.9022 20.6596 31.0017 21.512 31.1012 22.3645V22.5149L31.1509 23.0164C31.1509 23.3172 31.2007 23.568 31.2007 23.8187C31.3002 24.27 31.3499 24.7714 31.3997 25.2729H31.3002C31.3002 25.4735 31.3002 25.674 31.3002 25.8746V26.0752C31.3002 26.2758 31.3002 26.4764 31.3002 26.6769H31.4494V27.2285C31.4494 28.1311 31.3997 29.134 31.4494 30.1871C31.3002 30.2873 31.1509 30.3876 31.0017 30.4378C30.952 30.9392 30.8525 31.4407 30.8027 31.892C31.0515 31.5911 31.2504 31.2902 31.4991 30.9392C31.5986 32.2931 31.7976 33.6972 32.295 35.1514H37.717C36.7719 32.243 36.5729 29.0839 36.5232 24.7213Z" fill="#2970FF"/>
            <path d="M21.7496 27.9306C22.8439 27.028 25.1818 26.6268 28.5643 26.6268H31.2504C31.2504 26.3761 31.2504 26.1755 31.2504 26.0251V25.8245C31.2504 25.6239 31.2504 25.4234 31.2504 25.2228H25.5798C24.1372 25.2228 22.8439 25.3231 21.7496 25.4735C17.4717 26.1254 15.3825 27.9807 15.3825 30.5883C15.3825 33.4465 17.7204 35.6529 22.6449 35.6529C22.8439 35.6529 23.0429 35.6529 23.2419 35.6529C26.9228 35.5024 29.1612 34.0984 30.8525 31.892C30.952 31.4407 31.0017 30.9393 31.0515 30.4378C29.41 31.4407 27.47 32.0425 25.2316 32.0425C23.8885 32.0425 22.8937 31.8419 22.1973 31.3906C21.4511 30.9393 21.0532 30.2874 21.0532 29.4349C21.0034 28.8833 21.2521 28.3819 21.7496 27.9306Z" fill="black"/>
            <path d="M22.1475 20.5092C23.1921 20.3086 24.2865 20.1582 25.3808 20.1582C29.41 20.1582 30.8028 21.5622 31.2504 23.7686C31.2504 23.5179 31.2007 23.217 31.2007 22.9663L31.151 22.4648V22.3144C31.0515 21.4619 30.952 20.6095 30.8028 19.8573C30.753 19.6066 30.7033 19.406 30.6535 19.1051V19.055C30.5043 18.2527 30.2556 17.4504 30.0069 16.6982C28.8628 16.4976 27.5695 16.3973 26.1767 16.3973C25.0823 16.3973 24.0875 16.4475 23.1424 16.5979C20.2076 16.9489 17.8697 17.8014 15.9794 18.704C16.2281 19.8573 16.2281 22.2141 15.9794 23.5179C17.2727 22.164 19.5112 21.0608 22.1475 20.5092Z" fill="black"/>
        </svg>
    </div>
    <div class="navbar-group-toggles">
        <NavbarGroupToggles/>
    </div>
    <div class="bg-04 h-1 -flex-x py-2">
        <div class="mr-6 border-t border-placeholder w-1/4"></div>
    </div>
    <div class="h-full navbar-places">
        <NavbarPlaces/>
    </div>
    <div class="flex justify-end items-center w-full p-3 bg-04">
        <AccountDropdown/>
    </div>
</div>

@code {
    [Inject] private NavbarUI NavbarUI { get; init; } = null!;

    protected override ComputedState<bool>.Options GetStateOptions()
        => new() { UpdateDelayer = UpdateDelayer.MinDelay };

    protected override async Task<bool> ComputeState(CancellationToken cancellationToken)
        => await NavbarUI.IsThinPanelOpened.Use(cancellationToken).ConfigureAwait(false);
}
