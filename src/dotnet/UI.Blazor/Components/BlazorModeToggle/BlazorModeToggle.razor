@namespace ActualChat.UI.Blazor.Components
@using System.Reflection
@inject BlazorModeHelper BlazorModeHelper
@inject BlazorCircuitContext CircuitContext
@{
    string GetButtonClass(bool isActive)
        => isActive ? "is-active" : "";
}

<div class="blazor-mode-toggle">
    <ButtonSquare
        Class="@GetButtonClass(IsServerSideBlazor)"
        IsDisabled="@IsServerSideBlazor"
        Click="@(_ => BlazorModeHelper.ChangeMode(true))">Server</ButtonSquare>
    <ButtonSquare
        Class="@GetButtonClass(!IsServerSideBlazor)"
        IsDisabled="@(!IsServerSideBlazor)"
        Click="@(_ => BlazorModeHelper.ChangeMode(false))" >WASM</ButtonSquare>
</div>

@code {
    private bool IsServerSideBlazor { get; set; } = BlazorModeHelper.IsServerSideBlazor;
}
