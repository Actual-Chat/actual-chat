@namespace ActualChat.Chat.UI.Blazor.Components
@implements IModalView<ChatSettingsModal.Model>

<DiveInDialogFrame
    Title="Edit chat settings"
    Class="edit-chat-settings-modal"
    HasCloseButton="true"
    NarrowViewSettings="@(DialogFrameNarrowViewSettings.Stretch with{ShouldHideButtons = true})">
    <ChatSettingsStartPage ChatSid="@ModalModel.Chat.Id" />
    <EditMembersPage ChatSid="@ModalModel.Chat.Id" />
    <AddMemberPage ChatSid="@ModalModel.Chat.Id" />
</DiveInDialogFrame>

@code {
    [Parameter] public Model ModalModel { get; set; } = null!;

    public static class PageIds {
        public const string Start = "start";
        public const string Members = "members";
        public const string AddMember = "add-member";
    }

    public sealed record Model(Chat Chat);
}
