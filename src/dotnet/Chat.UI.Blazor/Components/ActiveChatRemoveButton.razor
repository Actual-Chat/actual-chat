@namespace ActualChat.Chat.UI.Blazor.Components
@inherits FusionComponentBase
@{
    var cls = $"pin-toggle blackout {Class}";
}

<ButtonRound
    Class="@cls"
    ContentClass="!bg-transparent"
    Click="@OnClick"
    Tooltip="Remove"
    TooltipPosition="FloatingPosition.Top">
    <i class="icon-close text-2xl"></i>
</ButtonRound>

@code {
    [Inject] private ActiveChatsUI ActiveChatsUI { get; init; } = null!;

    [Parameter, EditorRequired] public Chat Chat { get; set; } = Chat.None;
    [Parameter] public string Class { get; set; } = "";

    private void OnClick()
        => _ = ActiveChatsUI.RemoveActiveChat(Chat.Id);
}
