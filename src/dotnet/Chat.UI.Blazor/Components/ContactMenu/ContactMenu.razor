@namespace ActualChat.Chat.UI.Blazor.Components
@inherits MenuBase

@if (_userContact != null) {
    <CascadingValue Value="@_userContact">
        <ContactMenuPin/>
    </CascadingValue>
}

@code {
    private UserContact? _userContact;

    [Inject] private IUserContacts UserContacts { get; init; } = null!;
    [Inject] private Session Session { get; init; } = null!;

    protected override async Task OnParametersSetAsync() {
        if (Arguments is {Length: > 0}) {
            _userContact = await UserContacts.Get(Session, Arguments[0], CancellationToken.None);
        }
    }
}
