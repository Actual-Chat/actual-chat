@namespace ActualChat.Chat.UI.Blazor.Components
@{
    var cls = "pin-toggle";
}

<ButtonRound Class="@cls" Click="@OnClick" Title="Remove from Listened">
    <svg class="fill-current w-6 h-6" xmlns="http://www.w3.org/2000/svg" viewBox="2 1 22 22">
        <path id="Vector" fill-rule="evenodd" clip-rule="evenodd" d="M13.4141 12L17.7071 7.70701C18.0981 7.31601 18.0981 6.68401 17.7071 6.29301C17.3161 5.90201 16.6841 5.90201 16.2931 6.29301L12.0001 10.586L7.70713 6.29301C7.31613 5.90201 6.68413 5.90201 6.29313 6.29301C5.90213 6.68401 5.90213 7.31601 6.29313 7.70701L10.5861 12L6.29313 16.293C5.90213 16.684 5.90213 17.316 6.29313 17.707C6.48813 17.902 6.74413 18 7.00013 18C7.25613 18 7.51213 17.902 7.70713 17.707L12.0001 13.414L16.2931 17.707C16.4881 17.902 16.7441 18 17.0001 18C17.2561 18 17.5121 17.902 17.7071 17.707C18.0981 17.316 18.0981 16.684 17.7071 16.293L13.4141 12Z"/>
    </svg>
</ButtonRound>

@code {
    [Inject] private ChatUI ChatUI { get; init; } = null!;

    [Parameter] public string ChatId { get; set; } = "";

    private void OnClick() {
        var listened = ChatUI.ListeningChatIds.ValueOrDefault;
        ChatUI.ListeningChatIds.Value = listened.Remove(ChatId);
    }
}
