@namespace ActualChat.Chat.UI.Blazor.Components
@using ActualChat.UI.Blazor.Components
@using ActualChat.Hosting

<Dropdown ButtonClass="attach-btn btn-square" Class="flex items-center justify-end">
    <ButtonTemplate>
        <svg class="fill-current h-8 w-8 text-secondary hover:text-primary" xmlns="http://www.w3.org/2000/svg" viewBox="-2 -2 24 24">
            <path d="M11 9h4v2h-4v4H9v-4H5V9h4V5h2v4zm-1 11a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16z"/>
        </svg>
    </ButtonTemplate>
    <MenuTemplate>
        <Menu Class="attach-dropdown-menu" ItemClass="p-1 text-left" Orientation="MenuOrientation.Vertical" IconPosition="MenuIconPosition.Right" TooltipPosition="MenuTooltipPosition.Top">
            <MenuItem Title="Upload File" Name="uploadFile" Click="@UploadFilesRequested">
                <Icon>
                    <svg class="fill-current h-6 w-6" xmlns="http://www.w3.org/2000/svg" viewBox="-2 0 24 24">
                        <path d="M11 9h4v2h-4v4H9v-4H5V9h4V5h2v4zm-1 11a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16z"/>
                    </svg>
                </Icon>
            </MenuItem>
            @if (HostInfo.IsDevelopmentInstance) {
                <MenuItem Title="Use Camera" Name="useCamera">
                    <Icon>
                        <svg class="fill-current h-6 w-6" xmlns="http://www.w3.org/2000/svg" viewBox="-2 0 24 24">
                            <path d="M11 9h4v2h-4v4H9v-4H5V9h4V5h2v4zm-1 11a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16z"/>
                        </svg>
                    </Icon>
                </MenuItem>
                <MenuItem Title="Change Theme" Name="changeTheme">
                    <Icon>
                        <svg class="fill-current h-6 w-6" xmlns="http://www.w3.org/2000/svg" viewBox="-2 0 24 24">
                            <path d="M11 9h4v2h-4v4H9v-4H5V9h4V5h2v4zm-1 11a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16z"/>
                        </svg>
                    </Icon>
                </MenuItem>
            }
        </Menu>
    </MenuTemplate>
</Dropdown>

@code {
    [Inject] private HostInfo HostInfo { get; init; } = null!;

    [Parameter] public EventCallback UploadFilesRequested { get; set; }
}
