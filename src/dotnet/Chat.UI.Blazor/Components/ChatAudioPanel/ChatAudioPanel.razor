@namespace ActualChat.Chat.UI.Blazor.Components
@using ActualChat.Audio.UI.Blazor.Components
@inherits FusionComponentBase

<div class="chat-audio-panel">
    <div class="language-button"
         data-bubble="@(BubbleRef.New<TranscriptionLanguageButtonBubble>())"
         data-bubble-priority="102"
         data-bubble-placement="@(FloatingPosition.TopStart.ToPositionString())">
        <LanguageToggle ChatSid="@ChatSid"/>
    </div>
    <div class="recorder-button"
         data-bubble="@(BubbleRef.New<RecordButtonBubble>())"
         data-bubble-priority="103"
         data-bubble-placement="@(FloatingPosition.Top.ToPositionString())">
        <RecorderToggle ChatSid="@ChatSid"/>
    </div>
    <div class="playback-button"
         data-bubble="@(BubbleRef.New<ListenButtonBubble>())"
         data-bubble-priority="104"
         data-bubble-placement="@(FloatingPosition.TopEnd.ToPositionString())">
        <PlaybackToggle ChatSid="@ChatSid"/>
    </div>
</div>

@code {
    private ChatId ChatId { get; set; } = ChatId.None;

    [Parameter, EditorRequired] public string ChatSid { get; set; } = "";

    protected override void OnParametersSet() {
        ChatId = new (ChatSid);
    }
}
