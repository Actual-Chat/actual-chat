@namespace ActualChat.Chat.UI.Blazor.Components
@inherits FusionComponentBase
@{
    var isRecording = ChatState.IsRecording;
    var cls = "important-item " + (isRecording ? "on" : "off");
}

@if (isRecording) {
    <MenuEntry
        OnClick="@(_ => ChatUI.SetRecordingChatId(default))"
        Class="@cls"
        Icon="icon-Stop-fill"
        Text="Stop talking">
    </MenuEntry>
} else {
    <MenuEntry
        OnClick="@(_ => ChatUI.SetRecordingChatId(ChatState.Id))"
        Class="@cls"
        Icon="icon-mic"
        Text="Start talking">
    </MenuEntry>
}

@code {
    [Inject] private ChatUI ChatUI { get; init; } = null!;

    [CascadingParameter] public ChatState ChatState { get; set; } = null!;
}
