@namespace ActualChat.Chat.UI.Blazor.Components
@using ActualChat.Comparison
@using ActualChat.Chat.UI.Blazor.Events

<OnUIEvent TEvent="@NavigateToChatEntryEvent" Handler="@OnNavigateToChatEntry" />
<VirtualList
    Class="chat-view"
    DataSource="this"
    KeyComparer="LongAsStringKeyComparer.Default"
    ItemVisibilityChanged="OnItemVisibilityChanged">
    <Item>
        <ChatMessage Message="@context" />
    </Item>
    <Empty>
        <EmptyChatContent/>
    </Empty>
    <Skeleton>
        <chat-message-skeleton />
    </Skeleton>
</VirtualList>

<RenderIntoStack Name="SubFooter" Order="-1000_000" Key="NavigateToEndSubFooter">
    <NavigateToUnreadOrEnd
        ChatSid="@Chat.Id"
        ChatView="this" />
</RenderIntoStack>
