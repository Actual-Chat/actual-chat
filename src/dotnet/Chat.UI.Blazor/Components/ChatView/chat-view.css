.message-wrapper {
    @apply relative flex-y;
    @apply border-l-2 border-bg-01;
    @apply select-none md:select-auto;
    transform: translateZ(0);
}
.message-wrapper:hover {
    @apply bg-message-hover border-message-hover;
}
.message-wrapper:hover .avatar-badge {
    @apply bg-message-hover;
}

.chat-message {
    @apply relative;
    @apply flex-1 flex-x items-stretch gap-x-1 overflow-hidden;
    @apply px-1 py-1;
    @apply text-current break-words;
    @apply antialiased sm:subpixel-antialiased md:antialiased;
}

.chat-message > .c-author-badge {
    @apply flex-none;
    @apply overflow-hidden;
}

.chat-message > .c-content {
    @apply flex-1 flex-y;
    @apply overflow-hidden;
}

.chat-message > .c-content > .c-author-header {
    @apply flex-none flex-x items-baseline gap-x-2 min-w-0;
}

.chat-message-author-name {
    @apply max-h-6 overflow-hidden truncate;
    @apply font-bold text-03;
    @apply hover:opacity-80;
    @apply cursor-pointer;
}
.message-wrapper.own-message .author-name {
    @apply text-06;
}

.chat-message-highlighted {
    @apply animate-highlight;
}

.message-wrapper:hover .avatar-badge {
    @apply bg-inherit;
}

.message-wrapper.replied-message,
.message-wrapper.mention.replied-message {
    @apply bg-replied-message border-l-2 border-replied-message-border;
}
.message-wrapper.replied-message:hover,
.message-wrapper.mention.replied-message:hover {
    @apply bg-replied-message-hover border-l-2 border-replied-message-border;
}

.chat-message-timestamp {
    @apply text-03 text-xs;
}
.chat-message-timestamp-on-hover {
    @apply invisible;
    @apply text-03 text-xs;
}
.chat-message:hover .chat-message-timestamp-on-hover {
    @apply visible;
}
.chat-message.mention:hover .chat-message-timestamp-on-hover {
    @apply visible;
}

.chat-message-markup {
    @apply text-02;
}

.chat-message.mention .chat-message-markup {
    @apply ml-0;
}
body.narrow .message-menu .reaction-select {
    @apply gap-4;
}
body.narrow .message-menu .reaction-select-reaction-emoji {
    @apply w-6 h-6;
}
.chat-message:hover .message-reactions-add {
    @apply visible;
}
.chat-message-transcript {
    @apply text-02 whitespace-normal;
}

.chat-message-transcript .retained {
}

.chat-message-transcript .changes {
    @apply underline;
}

.chat-header-title:hover {
    @apply text-02;
}

.new-separator {
    @apply bg-04;
}

.new-separator-title {
    @apply bg-04 text-02 rounded-md;
}

.message-hover-menu-placement {
    @apply absolute z-20 right-2 -mt-6;
    @apply w-px h-px; /* we need to have non-zero size, otherwise hit test will indicate that element is not visible */
}

.message-hover-menu {
    @apply rounded-full bg-01 border border-bg-03;
}

.message-hover-menu .btn.btn-round .btn-content {
    @apply min-h-8 min-w-8 max-h-8 min-h-8 bg-01;
}
.message-hover-menu .btn.btn-round:hover .btn-content {
    @apply bg-round-hover;
}

.message-content {
    @apply flex-1 overflow-hidden;
    @apply rounded-sm;
}

.system-entry .message-content {
    @apply flex-x justify-center items-center;
}
.system-entry .message-content .avatar-name {
    @apply font-bold text-03;
    @apply cursor-pointer;
    @apply hover:opacity-80;
}

.chat-message-quote {
    @apply flex-x items-stretch;
    @apply text-03 cursor-pointer;
    @apply antialiased sm:subpixel-antialiased md:antialiased;
}
.chat-message-quote.removed {
    @apply italic cursor-default;
}
.chat-message-quote > .c-content {
    @apply flex-1 flex-y;
    @apply overflow-hidden;
}
.chat-message-quote > .c-content > .c-author {
    @apply max-h-6 overflow-hidden truncate;
    @apply opacity-90;
}
.chat-message-quote > .c-content > .c-text {
    @apply max-h-6 overflow-hidden truncate;
    @apply font-medium text-base text-03;
    @apply pointer-events-none;
}
