@using ActualChat.UI.Blazor.Services
@using Stl.Rpc
@namespace ActualChat.Audio.UI.Blazor.Components

<img draggable="false" src="/dist/images/guide/mic-access.png" alt="mic access">
<div class="c-text text-title-1">
    It appears that Actual Chat is unable to start audio recording.
    The most likely cause is that the microphone access permission isn't granted,
    although it could also be due to an issue on our end.
</div>
<div class="c-text text-headline-1">
    To address this problem:
</div>

<div class="c-button-wrapper">
    <Button Click="@OnReloadClick"><i class="icon-refresh"></i> Click here</Button>
    <div class="c-description">to perform a hot restart of the app.</div>
</div>

<div class="c-text text-headline-1">
    If that doesn't help, try closing and reopening the app.
</div>

<div class="c-text text-headline-1">
    If the above steps are not effective, please verify whether the app has microphone access permission.
</div>

@code {

    [Inject] private ReloadUI ReloadUI { get; init; } = null!;

    private Task OnReloadClick() {
        ReloadUI.Reload();
        return Task.CompletedTask;
    }
}
