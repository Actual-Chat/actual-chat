@namespace ActualChat.UI.Blazor.App.Components
@inherits FusionComponentBase

<MenuEntry
    Icon="@(ChatState.Contact.IsPinned ? "icon-unpin" : "icon-pin")"
    Text="@(ChatState.Contact.IsPinned ? "Unpin" : "Pin")"
    Click="@OnClick">
</MenuEntry>

@code {
    [Inject] private ChatListUI ChatListUI { get; init; } = null!;

    [CascadingParameter] public ChatState ChatState { get; set; } = null!;

    private void OnClick()
        => _ = ChatListUI.SetPinState(ChatState.Id, !ChatState.Contact.IsPinned);
}
