@using ActualChat.Hosting
<ModalHost />
<MenuHost />
<BubbleHost />
@if (ScreenSize.IsWide()) {
    <TooltipHost />
}

<RenderIntoSlot Name="MainLeftDrawer">
    <LeftPanel/>
</RenderIntoSlot>

<RenderIntoStack Name="SubHeader" Order="-1000_000" Key="HistoricalPlaybackSubHeader">
    <HistoricalPlaybackSubHeader/>
    <RecordingSubHeader/>
</RenderIntoStack>

@if (!HostInfo.AppKind.IsMauiApp()) {
    <PageHeader />
}

@code {
    [Inject] private HostInfo HostInfo { get; init; } = null!;
    [Inject] protected LoadingUI LoadingUI { get; init; } = null!;

    [CascadingParameter] public ScreenSize ScreenSize { get; set; }

    protected override void OnAfterRender(bool firstRender) {
        if (firstRender)
            LoadingUI.MarkRendered();
    }
}
