@{
    var currentSlideId = GetCurrentSlideId();
}

<div class="carousel-wrapper @Class" name="@currentSlideId">
    @if (SlideOrder > 1) {
        <div class="left-arrow">
            <i class="icon-chevron-left text-5xl text-[#9294E1]"></i>
        </div>
    }
    <div class="footer">
        @for (var i = 1; i <= CarouselLength; i++) {
            var slideId = GetSlideId(i);
            <div class="carousel-dot w-@(slideId == currentSlideId ? "8" : "2")" id="dot-@slideId"></div>
        }
    </div>
    @if (SlideOrder < CarouselLength) {
        <div class="right-arrow">
            <i class="icon-chevron-right text-5xl text-[#9294E1]"></i>
        </div>
    }
</div>

@code {
    [CascadingParameter(Name = "CarouselLength")] public int CarouselLength { get; set; }
    [CascadingParameter(Name = "CarouselOrder")] public int CarouselOrder { get; set; }

    [Parameter] public RenderFragment? ChildContent { get; set; }
    [Parameter] public string Class { get; set; } = "";
    [Parameter] public int SlideOrder { get; set; }

    private string GetCurrentSlideId()
        => $"slide-{CarouselOrder}-{SlideOrder}";

    private string GetSlideId(int id)
        => $"slide-{CarouselOrder}-{id}";
}
